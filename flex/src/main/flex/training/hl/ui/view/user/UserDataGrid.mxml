<?xml version="1.0" encoding="utf-8"?>
<mx:DataGrid xmlns:fx="http://ns.adobe.com/mxml/2009"
			 xmlns:s="library://ns.adobe.com/flex/spark"
			 xmlns:mx="library://ns.adobe.com/flex/mx"
			 dataProvider="{model.users}"
			 change="selectUser()"
			 height="400"
			 left="20"
			 right="20"
			 selectedIndex="{model.selecteIndex}"
			 >
	<fx:Script>
		<![CDATA[
			import mx.controls.Alert;
			
			import training.hl.bean.User;
			import training.hl.ui.presenter.UserListPresentationModel;
			
			[Bindable]
			public var model:UserListPresentationModel;
			
			private function formatUserName(item:Object, column:DataGridColumn):String
			{
				return item.firstName + " " + item.lastName;
			}
			
			private function selectUser():void
			{
				model.selectUser(this.selectedItem as User);
			}
		]]>
	</fx:Script>

	<mx:columns>
		<mx:DataGridColumn dataField="age" headerText="Age" width="30"/>
		<mx:DataGridColumn dataField="userName" headerText="Account Name"/>
		<mx:DataGridColumn labelFunction="formatUserName" headerText="User Name"/>
		<mx:DataGridColumn dataField="profile.bio" headerText="Bio"/>
		<mx:DataGridColumn dataField="profile.homePage" headerText="Homepage"/>
		<mx:DataGridColumn dataField="profile.hobbies" headerText="Hobbies"/>
	</mx:columns>
</mx:DataGrid>